@model App.Controllers.PostController.Comment

<div class="comment" data-id="@Model.Id" style="margin-left: @(Model.ParentCommentId != null ? "40px" : "0px");">
    <strong>@Model.UserName</strong> - <span class="text-muted">@Model.DateCommented</span>
    <p>@Model.Content</p>
    <button class="btn btn-link btn-sm replyBtn" data-id="@Model.Id">Trả lời</button>

    <form asp-action="ReplyComment" class="replyForm" style="display:none;"
        data-parentid="@Model.Id" data-postid="@Model.PostId">
        <textarea class="form-control replyText" rows="2" placeholder="Viết câu trả lời..."></textarea>
        <button type="submit" class="btn btn-primary btn-sm mt-2">Gửi</button>
    </form>

    @if (Model.ChildComments?.Any() == true)
    {
        foreach (var reply in Model.ChildComments)
        {
            @await Html.PartialAsync("_CommentPartial", reply)
        }
    }
</div>
